#include <stdio.h>
#include <stdlib.h>
#include <string.h>
  int main()
 
{
 
 FILE *fp = fopen("CPU_BURST.txt", "r");
 int bt[10],wt[10],tat[10],i=0,n,sum_tat=0,sum_wt=0,temp,p[10],j;
 float avg_wt,avg_tat;
 while((fscanf(fp,"%d",&bt[i]))==1)
 {
    if(bt[i]>0)
    {
    p[i]=i+1;
    i++;
    
}
    
    
    }
    n=i;
//    printf("%d\n",n);
//     printf("Burst time\n");
//            for(i=0;i<n;i++)
//            printf("%d\t%d\n",i,bt[i]);
//        
  for(i=1;i<=n-1;i++)
  {
      for(j=0;j<n-i;j++)
      {
         if(bt[j]>bt[j+1])
         {
            temp=bt[j];
            bt[j]=bt[j+1];
            bt[j+1]=temp;
            }
            }
        }
//            printf("Burst time\n");
//            for(i=0;i<n;i++)
//            printf("%d\t%d\n",i,bt[i]);
        
      wt[0]=0;
       for(i=1;i<n;i++)
       {
	            wt[i]=wt[i-1]+bt[i-1];
                sum_wt=sum_wt+wt[i];
           }
           avg_wt= ((float)sum_wt)/((float)n);
          
           // printf("Turn around time\n");
       for(i=0;i<n;i++)
        {
            tat[i]=wt[i]+bt[i];
            sum_tat=sum_tat+tat[i];
           }
           avg_tat= ((float)sum_tat)/((float)n);
           	printf("Procees no.\tBurst Time\tWaiting Time\tTurn around Time\n");
        for(i=0;i<n;i++)
        {
            printf("\t%d\t\t%d\t\t%d\t\t%d\n",i,bt[i],wt[i],tat[i]);
		}
		printf("\nAverage waiting time: %f\n",avg_wt);
		printf("\nAverage turn around time: %f",avg_tat);
             fclose(fp);
           return 0;
       }
